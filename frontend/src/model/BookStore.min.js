import LocalBookStorage from"./LocalBookStorage.js";export default class BookStore{constructor(){this.storage=new LocalBookStorage}addBook(a){const b=this.getBooks();try{this.checkBook(a,b)}catch(a){throw a}const c=b.documentElement.firstElementChild;return c?c.before(a.bookElement):b.documentElement.appendChild(a.bookElement),this.storage.books=b,this}deleteBook(a){if(!a)throw new TypeError("ISBN was undefined");const b=this.getBooks(),c=b.getElementById(a);if(!c)throw new Error(`ISBN: ${a} was not found in book store`);return c.remove(),this.storage.books=b,this}getBookDetails(a){if(!a)throw new TypeError("ISBN was undefined");const b=this.getBooks(),c=b.getElementById(a);if(!c)throw new Error(`Book for ISBN: ${a} was not found in book store`);return c}getBooks(){return this.storage.books}isValidISBN(a){return 10==a.length&&/^[0-9]+$/.test(a)}checkBook(a,b){if(!a.isbn||!a.title||!a.author||!a.description)throw new TypeError("Please fill in all fields");else if(!this.isValidISBN(a.isbn))throw new Error("ISBN was not a 10-digit number");else if(b.getElementById(a.isbn))throw new Error(`Duplicated ISBN: ${a.isbn} was found in book store`)}}